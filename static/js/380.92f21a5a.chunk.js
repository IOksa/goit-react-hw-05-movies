"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[380],{524:function(e,t,n){n.d(t,{$h:function(){return o},_n:function(){return r},si:function(){return a}});var r="https://api.themoviedb.org/",o="567e66254656681ea9a58ed02993db62",a="https://image.tmdb.org/t/p/w500"},380:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(433),o=n(439),a=n(243),c=n(791),u=n(689),i=n(87),l=n(524),s="Movie_SearchForm__9IPDT",m="Movie_SearchFormButton__N0aU5",f="Movie_SearchFormInput__iyCtj",h="Movie_movieLink__HD3b7",d=n(184),p=function(){var e,t=(0,c.useState)([]),n=(0,o.Z)(t,2),p=n[0],_=n[1],g=(0,u.TH)(),v=(0,i.lr)(),y=(0,o.Z)(v,2),b=y[0],j=y[1],k=null!==(e=b.get("query"))&&void 0!==e?e:"";return(0,c.useEffect)((function(){if(k){!function(){var e="".concat(l._n,"3/search/movie?api_key=").concat(l.$h,"&query=").concat(k,"&include_adult=false&language=en-US&page=1");console.log("fetchQuery=",e),a.Z.get(e).then((function(e){console.log("response=",e);var t=e.data.results.map((function(e){return{id:e.id,title:e.title}}));console.log("res=",t),_((0,r.Z)(t))})).catch((function(e){console.log(e)}))}()}}),[k]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{onSubmit:function(e){console.log("event.currentTarget=",e.currentTarget),e.preventDefault();var t=e.currentTarget,n=t.elements.query.value.toLowerCase().trim();console.log("inputValue=",n),""!==n?(j({query:n}),t.reset()):j({})},className:s,children:[(0,d.jsx)("input",{type:"text",name:"query",defaultValue:k,autoFocus:!0,placeholder:"Search movies...",className:f}),(0,d.jsx)("button",{type:"submit",className:m,children:"Search"})]}),(0,d.jsx)("ul",{children:p.map((function(e){return(0,d.jsx)("li",{children:(0,d.jsx)(i.rU,{to:"".concat(e.id),state:{from:g},className:h,children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=380.92f21a5a.chunk.js.map