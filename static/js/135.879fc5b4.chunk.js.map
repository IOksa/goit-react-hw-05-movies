{"version":3,"file":"static/js/135.879fc5b4.chunk.js","mappings":"+OAAO,IAAMA,EAAW,8BACXC,EAAU,mCACVC,EAAgB,kCAChBC,EAAiB,iC,uJCF9B,EAAyB,6BAAzB,EAAgE,8BAAhE,EAA4G,kCAA5G,EAA8J,oCAA9J,EAA+M,iCAA/M,EAA6P,iCAA7P,EAAoS,0B,kBCwEpS,EAlEqB,WAAO,IAAD,QACzB,GAAsCC,EAAAA,EAAAA,UAAS,CAAC,GAAhD,eAAOC,EAAP,KAAqBC,EAArB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAwB3D,OAtBAC,EAAAA,EAAAA,YAAU,WACR,GAAKR,EAAL,CAIA,IAAMS,EAAiB,mCAAI,2FACnBC,EADmB,UACHjB,EAAAA,GADG,mBACgBO,EADhB,oBACmCN,EAAAA,GADnC,qCAIjBiB,EAAAA,EAAAA,IAAUD,GACfE,MAAK,SAACC,GACHd,EAAgBc,EAASC,KAC5B,IAPsB,sDAUvBC,QAAQC,IAAR,MAVuB,wDAAJ,qDAcvBP,GAhBC,CAiBF,GAAC,CAACT,KAGD,iCACE,SAAC,KAAD,CAAMiB,GAAIb,EAAoBc,QAASC,UAAWC,EAAlD,4BACCtB,IAAgB,iBAAKqB,UAAWC,EAAhB,WACf,gBAAKC,IAAKvB,EAAawB,YAAc3B,EAAAA,GAAgBG,EAAawB,YAAcC,EAAOC,IAAK1B,EAAa2B,MAAON,UAAWC,KAC3H,4BACE,eAAGD,UAAWC,EAAd,UAAgCtB,EAAa2B,MAA7C,YAAsD3B,QAAtD,IAAsDA,GAAtD,UAAsDA,EAAc4B,oBAApE,aAAsD,EAA4BC,MAAM,EAAE,GAA1F,QACA,wCAAgBC,KAAKC,MAAM/B,EAAagC,gBACxC,cAAGX,UAAWC,EAAd,uBACA,uBAAItB,EAAaiC,YACjB,cAAGZ,UAAWC,EAAd,qBACA,eAAID,UAAWC,EAAf,gBACGtB,QADH,IACGA,GADH,UACGA,EAAckC,cADjB,aACG,EAAsBC,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OACzB,eAAef,UAAWC,EAA1B,SACGc,GADMA,EADgB,aASjC,iBAAKf,UAAWC,EAAhB,WACE,oDACA,2BACE,yBACE,SAAC,KAAD,CAAMH,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,8BAKN,SAAC,KAAD,MAGL,C","sources":["constants/constants.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["export const BASE_URL = \"https://api.themoviedb.org/\";\nexport const API_KEY = \"567e66254656681ea9a58ed02993db62\";\nexport const BASE_URL_POSTER='https://image.tmdb.org/t/p/w500';\nexport const BASE_URL_PROFILE='https://image.tmdb.org/t/p/w185';","// extracted by mini-css-extract-plugin\nexport default {\"goBack\":\"MovieDetails_goBack__C8OKE\",\"wrapper\":\"MovieDetails_wrapper__YMWLn\",\"movieHeader\":\"MovieDetails_movieHeader__lQO3q\",\"wrapperAdInfo\":\"MovieDetails_wrapperAdInfo__BPjr1\",\"genresList\":\"MovieDetails_genresList__2o809\",\"genresItem\":\"MovieDetails_genresItem__HUJ-X\",\"img\":\"MovieDetails_img__uOAom\"};","import axios from 'axios';\nimport { useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport {BASE_URL, API_KEY, BASE_URL_POSTER} from '../../constants/constants';\nimport css from './MovieDetails.module.css';\nimport image from '../../images/image-not-found.webp';\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails]=useState({});\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n    \n    const fetchMovieDetails = (async ()=>{\n      const fetchQuery = `${BASE_URL}3/movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n      \n      try{\n        await axios.get(fetchQuery)\n        .then((response) => {\n            setMovieDetails(response.data);\n        })\n      }\n      catch (error){\n        console.log(error);\n      }     \n    })\n    \n    fetchMovieDetails();\n  },[movieId])\n\n  return (\n    <>\n      <Link to={backLinkLocationRef.current} className={css.goBack}>‚Üê Go back</Link>\n      {movieDetails && <div className={css.wrapper}>\n        <img src={movieDetails.poster_path ? BASE_URL_POSTER+movieDetails.poster_path : image} alt={movieDetails.title} className={css.img} />\n        <div>\n          <p className={css.movieHeader}>{movieDetails.title} ({movieDetails?.release_date?.slice(0,4)})</p>\n          <p>Popularity: {Math.round(movieDetails.popularity)}</p>\n          <p className={css.movieHeader}>Overview</p>\n          <p>{movieDetails.overview}</p>\n          <p className={css.movieHeader}>Genres</p>\n          <ul className={css.genresList}>\n            {movieDetails?.genres?.map(({ name }) => (\n              <li key={name} className={css.genresItem}>\n                {name}\n              </li>\n            ))}\n          </ul>  \n        </div>\n      </div>\n      }\n      <div className={css.wrapperAdInfo}>\n        <h2>Additional information</h2>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n      </div>\n    \n      <Outlet />\n    </>\n  );\n};\n\nexport default MovieDetails;\n\n"],"names":["BASE_URL","API_KEY","BASE_URL_POSTER","BASE_URL_PROFILE","useState","movieDetails","setMovieDetails","movieId","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","fetchMovieDetails","fetchQuery","axios","then","response","data","console","log","to","current","className","css","src","poster_path","image","alt","title","release_date","slice","Math","round","popularity","overview","genres","map","name"],"sourceRoot":""}